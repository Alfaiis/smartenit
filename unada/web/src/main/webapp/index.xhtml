<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<meta charset="utf-8" />
	<meta http-equiv="cache-control" content="max-age=0" />
	<meta http-equiv="cache-control" content="no-cache" />
	<meta http-equiv="expires" content="0" />
	<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
	<meta http-equiv="pragma" content="no-cache" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="description" content="" />
	<meta name="author" content="" />
	<link rel="shortcut icon" href="../../assets/ico/favicon.ico" />

	<title>uNaDa Configuration Page</title>
	<link href="css/bootstrap.min.css" rel="stylesheet" />
	<link href="css/unada-main.css" rel="stylesheet" />
	<link rel="stylesheet"
		href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" />
	<link
		href="//netdna.bootstrapcdn.com/bootstrap/3.0.0-rc2/css/bootstrap-glyphicons.css"
		rel="stylesheet" />

	<script src="js/bootstrap-dropdown.js"/>
	<script src="js/geolocation.js"/>
	
</h:head>

<h:body onload="getLocation()">

	<div class="container">
		<!-- Static navbar -->
		<div class="navbar navbar-default" role="navigation">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse"
						data-target=".navbar-collapse">
						<span class="sr-only">Toggle navigation</span> <span
							class="icon-bar"></span> <span class="icon-bar"></span> <span
							class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#">SmartenIT</a>
				</div>
				<div class="navbar-collapse collapse">
					<h:form>
						<ul class="nav navbar-nav navbar-right">
							<li class="active"><a href="index.xhtml">Settings</a></li>
                            <li><a href="overlay.xhtml">Overlay</a></li>
							<li><a href="social.xhtml">Social</a></li>
							<li><a href="cache.xhtml">Cache</a></li>
							<li class="dropdown"><a href="#" class="dropdown-toggle"
								data-toggle="dropdown"><h:outputText
										value="#{unadaSessionBean.name}" /><b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="admin.xhtml">Administration</a></li>
                                    <li><a href="demo.xhtml">Demo</a></li>
									<li><a href="#">Reports</a></li>
									<li class="divider"></li>
									<li><h:commandLink action="#{unadaSessionBean.logout}"
											value="Logout" /></li>
								</ul></li>
						</ul>
					</h:form>
				</div>
			</div>
		</div>

		<div class="row marketing">
			<h2>uNaDa configuration</h2>
            <br/>
			<h:form class="form-horizontal" role="form" id="configuration">
				<div class="form-group">
					<label for="openSSID" class="col-xs-4 control-label">Open
						SSID Name</label>
					<div class="col-xs-6">
						<h:inputText type="text" class="form-control" id="openSSID"
							placeholder="Open SSID Name"
							value="#{unadaConfigurationBean.unadaConfiguration.openWifi.SSID}" />
					</div>
				</div>

				<div class="form-group">
					<label for="privateSSID" class="col-xs-4 control-label">Private
						SSID Name</label>
					<div class="col-xs-6">
						<h:inputText type="text" class="form-control" id="privateSSID"
							placeholder="Private SSID Name"
							value="#{unadaConfigurationBean.unadaConfiguration.privateWifi.SSID}" />
					</div>
				</div>

				<div class="form-group">
					<label for="privatePassword" class="col-xs-4 control-label">Private
						SSID Password</label>
					<div class="col-xs-6">
						<h:inputText type="text" class="form-control" id="privatePassword"
							placeholder="Private SSID Password"
							value="#{unadaConfigurationBean.unadaConfiguration.privateWifi.password}" />
					</div>
				</div>

				<div class="form-group">
					<label for="overlayInterval" class="col-xs-4 control-label">Overlay
						updates interval (min)</label>
					<div class="col-xs-4">
						<h:inputText type="text" class="form-control" id="overlayInterval"
							value="#{unadaConfigurationBean.unadaConfiguration.overlayInterval}">
                            <f:converter
                                    converterId="eu.smartenit.unada.web.util.MinutesConverter" />
                        </h:inputText>
					</div>
				</div>

				<div class="form-group">
					<label for="socialInterval" class="col-xs-4 control-label">Social
						queries interval (min)</label>
					<div class="col-xs-4">
						<h:inputText type="text" class="form-control" id="socialInterval"
							value="#{unadaConfigurationBean.unadaConfiguration.socialInterval}">
                            <f:converter
                                    converterId="eu.smartenit.unada.web.util.MinutesConverter" />
                        </h:inputText>
					</div>
				</div>

				<div class="form-group">
					<label for="predictionInterval" class="col-xs-4 control-label">Predictions
						interval (min)</label>
					<div class="col-xs-4">
						<h:inputText type="text" class="form-control" id="predictionInterval"
							value="#{unadaConfigurationBean.unadaConfiguration.predictionInterval}">
                            <f:converter
                                    converterId="eu.smartenit.unada.web.util.MinutesConverter" />
                        </h:inputText>
					</div>
				</div>

                <div class="form-group">
                    <label class="col-xs-4 control-label">Active Prediction
                        Algorithms</label>
                        <div class="col-xs-6">
                            <label for="ovp" class="checkbox-inline">
                                Overlay
                                <h:selectBooleanCheckbox id="ovp"
                                    value="#{unadaConfigurationBean.unadaConfiguration.overlayPredictionEnabled}"/>
                            </label>
                            <label for="sp" class="checkbox-inline">
                                Social
                                <h:selectBooleanCheckbox id="sp"
                                    value="#{unadaConfigurationBean.unadaConfiguration.socialPredictionEnabled}"/>
                            </label>
                        </div>
                </div>

				<div class="form-group">
					<div class="text-center">
						<div class="btn-group">
							<h:commandButton type="submit" class="btn btn-primary"
								action="#{unadaConfigurationBean.updateUnadaConfiguration}"
								value="Update" />
							<h:commandButton type="reset" class="btn btn-default"
								value="Cancel" />
						</div>
					</div>
				</div>
			</h:form>
			<p></p>
		</div>

		<div class="footer">
			<center>
				<p>&copy; The SmartenIT Consortium 2015</p>
			</center>
		</div>

	</div>
	<!-- /container -->

	<script>
		$('.dropdown-toggle').dropdown()
	</script>

	<!-- Bootstrap core JavaScript
    ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="js/jquery.js"></script>
	<script src="js/bootstrap.js"></script>
	<script src="js/bootstrapValidator.js"></script>
	<script src="js/validator/ip.js"></script>
	<script src="js/validator/mac.js"></script>
	<script src="js/validator/between.js"></script>
	<script src="js/validator/notEmpty.js"></script>
    <script src="js/validator/greaterThan.js"></script>
	
	<script>
		$(document)
				.ready(
						function() {
							$('#configuration')
									.bootstrapValidator(
											{
												feedbackIcons : {
													valid : 'glyphicon glyphicon-ok',
													invalid : 'glyphicon glyphicon-remove',
													validating : 'glyphicon glyphicon-refresh'
												},
												fields : {
													'configuration:openSSID' : {
														validators : {
															notEmpty : {
																message : 'The open SSID name must not be empty.'
															}
														}
													},
													'configuration:privateSSID' : {
														validators : {
															notEmpty : {
																message : 'The private SSID name must not be empty.'
															}
														}
													},
													'configuration:privatePassword' : {
														validators : {
															notEmpty : {
																message : 'The private SSID password must not be empty.'
															}
														}
													},
													'configuration:overlayInterval' : {
														validators : {
															notEmpty : {
																message : 'The overlay interval must not be empty.'
															},
                                                            greaterThan : {
                                                                value : 1,
                                                                message : 'The overlay interval must be greater than 1 minute.'
                                                            }
														}
													},
													'configuration:socialInterval' : {
                                                        validators: {
                                                            notEmpty: {
                                                                message: 'The social interval must not be empty.'
                                                            },
                                                            greaterThan: {
                                                                value: 1,
                                                                message: 'The social interval must be greater than 1 minute.'
                                                            }
                                                        }
                                                    },
													'configuration:predictionInterval' : {
                                                        validators: {
                                                            notEmpty: {
                                                                message: 'The prediction interval must not be empty.'
                                                            },
                                                            greaterThan: {
                                                                value: 1,
                                                                message: 'The prediction interval must be greater than 1 minute.'
                                                            }
                                                        }
                                                    }
												}
											});
						});
	</script>
</h:body>
</html>
